<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoreCompute</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Main notebook area -->
        <div class="notebook-wrapper">
            <div id="notebook" class="notebook">
                <!-- Empty state -->
                <div id="empty-state" class="empty-state">
                    <div class="add-cell-line" data-position="0">
                        <div class="add-cell-button" data-cell-type="code">
                            <img src="/assets/icons/add.svg" alt="Add cell" />
                            <div class="cell-type-menu">
                                <button class="cell-type-option" data-type="code">Code</button>
                                <button class="cell-type-option" data-type="markdown">Text</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Hidden elements -->
        <div style="display: none;">
            <span id="connection-status">Connected</span>
            <span id="kernel-status">Ready</span>
        </div>
    </div>

    <!-- Cell template -->
    <template id="cell-template">
        <div class="cell-wrapper">
            <!-- Add line above -->
            <div class="add-cell-line add-line-above" data-position="above">
                <div class="add-cell-button">
                    <img src="/assets/icons/add.svg" alt="Add cell" />
                    <div class="cell-type-menu">
                        <button class="cell-type-option" data-type="code">Code</button>
                        <button class="cell-type-option" data-type="markdown">Text</button>
                    </div>
                </div>
            </div>
            
            <!-- Main cell -->
            <div class="cell" data-cell-index="">
                <!-- Cell controls (appear on hover) -->
                <div class="cell-hover-controls">
                    <div class="cell-actions-right">
                        <button class="cell-action run-cell-btn" title="Run cell (Shift+Enter)">
                            <img src="/assets/icons/play.svg" alt="Run" />
                        </button>
                        <button class="cell-action drag-handle" title="Drag to reorder">
                            <img src="/assets/icons/up-down.svg" alt="Drag" />
                        </button>
                        <button class="cell-action delete-cell-btn" title="Delete cell">
                            <img src="/assets/icons/trash.svg" alt="Delete" />
                        </button>
                    </div>
                </div>
                
                <!-- Cell content -->
                <div class="cell-content">
                    <div class="cell-input">
                        <div class="cell-editor-container">
                            <textarea class="cell-editor"></textarea>
                        </div>
                    </div>
                    <div class="cell-output" style="display: none;">
                        <div class="output-content"></div>
                    </div>
                </div>
                
                <!-- Execution count indicator -->
                <div class="execution-indicator">
                    <span class="execution-count">[ ]</span>
                    <span class="execution-time" style="display: none;"></span>
                </div>
                
                <!-- Execution status icon -->
                <div class="execution-status" style="display: none;">
                    <img class="status-icon" src="" alt="Status" />
                </div>
            </div>
            
            <!-- Add line below -->
            <div class="add-cell-line add-line-below" data-position="below">
                <div class="add-cell-button">
                    <img src="/assets/icons/add.svg" alt="Add cell" />
                    <div class="cell-type-menu">
                        <button class="cell-type-option" data-type="code">Code</button>
                        <button class="cell-type-option" data-type="markdown">Text</button>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <script src="{{ url_for('static', filename='notebook.js') }}"></script>
</body>
</html>
